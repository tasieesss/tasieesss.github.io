/* styles.css */
* { margin: 0; padding: 0; box-sizing: border-box; }

:root{
  --bg1:#667eea; --bg2:#764ba2; --bg3:#f093fb;
  --p1:#6366f1; --p2:#8b5cf6; --p3:#d946ef;
  --text:#111827; --muted:#6b7280; --border:#e5e7eb;
  --card:rgba(255,255,255,.92);
}

body{
  font-family:"Inter",-apple-system,BlinkMacSystemFont,sans-serif;
  line-height:1.7;
  min-height:100vh;
  background: linear-gradient(135deg, var(--bg1) 0%, var(--bg2) 50%, var(--bg3) 100%);
  background-size:400% 400%;
  animation:gradientShift 15s ease infinite;
  overflow-x:hidden;
  color:var(--text);
}

@keyframes gradientShift{
  0%{background-position:0% 50%}
  50%{background-position:100% 50%}
  100%{background-position:0% 50%}
}

body::before{
  content:"";
  position:fixed; inset:0;
  background:
    radial-gradient(circle at 20% 80%, rgba(120,119,198,.28) 0%, transparent 50%),
    radial-gradient(circle at 80% 20%, rgba(255,119,198,.25) 0%, transparent 50%),
    radial-gradient(circle at 40% 40%, rgba(120,219,226,.22) 0%, transparent 50%);
  pointer-events:none;
  z-index:0;
}

.container{
  max-width:980px;
  margin: 20px auto;
  padding: 20px;
  background: var(--card);
  backdrop-filter: blur(18px);
  border: 1px solid rgba(255,255,255,.35);
  border-radius: 24px;
  box-shadow: 0 25px 50px -12px rgba(0,0,0,.25), 0 0 0 1px rgba(255,255,255,.15);
  position:relative;
  z-index:1;
  animation: containerFadeIn 700ms ease-out;
}

@keyframes containerFadeIn{
  from{ opacity:0; transform: translateY(22px); }
  to{ opacity:1; transform: translateY(0); }
}

.header{
  text-align:center;
  padding: 30px;
  border-radius: 20px;
  color:#fff;
  background: linear-gradient(135deg, var(--p1) 0%, var(--p2) 50%, var(--p3) 100%);
  position:relative;
  overflow:hidden;
  box-shadow: 0 20px 40px -12px rgba(99,102,241,.40);
  margin-bottom: 22px;
}

.header::before, .results-header::before{
  content:"";
  position:absolute;
  top:0; left:-100%;
  width:100%; height:100%;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,.18), transparent);
  animation: shimmer 3s infinite;
}

@keyframes shimmer{
  0%{ left:-100% }
  100%{ left:100% }
}

.header h1{
  font-size: 26px;
  font-weight: 700;
  text-shadow: 0 2px 10px rgba(0,0,0,.25);
  position:relative; z-index:1;
}

.subtitle{
  margin-top: 10px;
  opacity:.92;
  position:relative; z-index:1;
}

.instruction{
  padding: 22px 22px 22px 26px;
  border-radius: 16px;
  background: linear-gradient(135deg, rgba(99,102,241,.06), rgba(139,92,246,.05));
  border: 1px solid rgba(99,102,241,.12);
  position:relative;
  overflow:hidden;
  margin-bottom: 22px;
}

.instruction::before, .recommendations::before{
  content:"";
  position:absolute; left:0; top:0;
  width:4px; height:100%;
  background: linear-gradient(135deg, var(--p1), var(--p2));
  border-radius:2px;
}

.instruction h3{ margin-bottom: 10px; font-size: 18px; }
.instruction ul{ margin-top: 10px; padding-left: 18px; }
.instruction li{ margin: 6px 0; color: #1f2937; }

.form-grid{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap: 16px;
}

.form-group{ margin-bottom: 0; }
label{
  display:block;
  margin-bottom: 8px;
  font-weight: 500;
  color: #374151;
  font-size: 14px;
  letter-spacing: .02em;
}
input[type="text"], input[type="email"]{
  width:100%;
  padding: 14px 16px;
  border-radius: 12px;
  border: 2px solid var(--border);
  background: rgba(255,255,255,.85);
  font-size: 16px;
  transition: all .25s ease;
}
input:focus{
  outline:none;
  border-color: var(--p1);
  box-shadow: 0 0 0 3px rgba(99,102,241,.10);
  transform: translateY(-1px);
}

.hidden{ display:none !important; }

.topbar{
  display:flex;
  align-items:center;
  justify-content: space-between;
  gap: 12px;
  margin-bottom: 18px;
}

.progress-wrap{ flex: 1; }
.progress-bar{
  width:100%;
  height: 8px;
  background: rgba(229,231,235,.65);
  border-radius: 999px;
  overflow:hidden;
}
.progress-fill{
  height:100%;
  width:0%;
  background: linear-gradient(90deg, var(--p1) 0%, var(--p2) 50%, var(--p3) 100%);
  transition: width .45s ease;
  position:relative;
}
.progress-fill::after{
  content:"";
  position:absolute; inset:0;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,.30), transparent);
  animation: progressShimmer 2s infinite;
}
@keyframes progressShimmer{ 0%{transform:translateX(-100%)} 100%{transform:translateX(100%)} }

.progress-text{ margin-top: 8px; color: var(--muted); font-size: 13px; }

.question-container{
  padding: 22px;
  border-radius: 20px;
  background: linear-gradient(135deg, rgba(255,255,255,.93), rgba(248,250,252,.92));
  border: 1px solid rgba(255,255,255,.35);
  box-shadow: 0 10px 25px -5px rgba(0,0,0,.10), 0 10px 10px -5px rgba(0,0,0,.04);
  overflow:hidden;
  animation: questionSlideIn .5s ease-out;
}
@keyframes questionSlideIn{ from{opacity:0; transform:translateX(18px)} to{opacity:1; transform:translateX(0)} }

.question{
  font-weight: 600;
  color:#111827;
  font-size: 18px;
  line-height:1.55;
  margin-bottom: 14px;
}
.question-meta{
  display:flex;
  flex-wrap:wrap;
  gap: 8px 10px;
  margin-bottom: 10px;
  font-size: 13px;
  color: var(--muted);
}
.badge{
  padding: 6px 10px;
  border-radius: 999px;
  background: rgba(99,102,241,.10);
  color: #3730a3;
  font-weight: 600;
}

.options{ display:flex; flex-direction:column; gap: 12px; }

.option{
  display:flex; align-items:center;
  gap: 12px;
  padding: 14px 16px;
  border-radius: 12px;
  border: 2px solid rgba(229,231,235,.85);
  background: rgba(255,255,255,.72);
  cursor:pointer;
  transition: all .25s ease;
  position:relative;
  overflow:hidden;
}
.option:hover{
  border-color: var(--p1);
  background: linear-gradient(135deg, rgba(99,102,241,.06), rgba(139,92,246,.05));
  transform: translateY(-1px);
  box-shadow: 0 8px 25px -8px rgba(99,102,241,.28);
}
.option input{ transform: scale(1.2); accent-color: var(--p1); }

.btn{
  width:100%;
  margin-top: 16px;
  padding: 16px 18px;
  border: none;
  border-radius: 12px;
  cursor:pointer;
  font-weight: 700;
  letter-spacing: .04em;
  text-transform: uppercase;
  color:#fff;
  background: linear-gradient(135deg, var(--p1) 0%, var(--p2) 50%, var(--p3) 100%);
  transition: transform .2s ease, box-shadow .2s ease, opacity .2s ease;
  position:relative;
  overflow:hidden;
}
.btn:hover{ transform: translateY(-2px); box-shadow: 0 18px 40px -14px rgba(99,102,241,.45); }
.btn:active{ transform: translateY(-1px); }
.btn:disabled{ opacity:.55; cursor:not-allowed; transform:none; box-shadow:none; }

.btn-secondary{
  background: linear-gradient(135deg, rgba(17,24,39,.78), rgba(17,24,39,.65));
  text-transform:none;
  letter-spacing: 0;
  font-weight: 600;
  padding: 12px 14px;
  width:auto;
  margin-top:0;
}

.results-header{
  text-align:center;
  padding: 32px;
  border-radius: 20px;
  color:#fff;
  background: linear-gradient(135deg, #06b6d4 0%, #3b82f6 50%, var(--p1) 100%);
  position:relative;
  overflow:hidden;
  box-shadow: 0 20px 40px -12px rgba(6,182,212,.40);
  margin-bottom: 22px;
}

.results-grid{display:grid;grid-template-columns:1fr;gap:16px;margin-bottom:18px;}

.card{
  padding: 18px;
  border-radius: 16px;
  background: rgba(255,255,255,.88);
  border: 1px solid rgba(255,255,255,.35);
  box-shadow: 0 10px 25px -8px rgba(0,0,0,.12);
}
.card-title{ font-size: 16px; font-weight: 800; margin-bottom: 12px; }
.hint{ color: var(--muted); font-size: 12px; margin-top: 8px; }

.summary{
  display:grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 10px;
}
.summary-item{
  padding: 12px;
  border-radius: 12px;
  background: rgba(99,102,241,.06);
  border: 1px solid rgba(99,102,241,.12);
}
.summary-label{ font-size: 12px; color: var(--muted); }
.summary-value{ font-size: 18px; font-weight: 800; margin-top: 2px; }

.results-table{
  width:100%;
  border-collapse: separate;
  border-spacing: 0;
  border-radius: 16px;
  overflow:hidden;
  background: rgba(255,255,255,.88);
  backdrop-filter: blur(14px);
  box-shadow: 0 20px 25px -5px rgba(0,0,0,.10), 0 10px 10px -5px rgba(0,0,0,.04);
  margin-bottom: 18px;
}
.results-table th, .results-table td{
  padding: 14px 16px;
  border-bottom: 1px solid rgba(229,231,235,.55);
  text-align:left;
}
.results-table th{
  font-size: 12px;
  text-transform: uppercase;
  letter-spacing: .06em;
  background: linear-gradient(135deg, rgba(99,102,241,.10), rgba(139,92,246,.08));
}
.results-table tr:hover{ background: rgba(99,102,241,.05); }

.level-pill{
  display:inline-block;
  padding: 7px 12px;
  border-radius: 999px;
  font-size: 11px;
  font-weight: 800;
  text-transform: uppercase;
  letter-spacing: .06em;
}
.level-high{ background: rgba(34,197,94,.12); color: #15803d; }
.level-medium{ background: rgba(245,158,11,.14); color: #b45309; }
.level-low{ background: rgba(239,68,68,.12); color: #b91c1c; }

.recommendations{
  padding: 22px 22px 18px 26px;
  border-radius: 20px;
  background: linear-gradient(135deg, rgba(251,146,60,.06), rgba(249,115,22,.05));
  border: 1px solid rgba(251,146,60,.14);
  position:relative;
  overflow:hidden;
}

.recommendations::before{
  background: linear-gradient(135deg, #f59e0b, #f97316);
}

.recommendation-item{
  margin-top: 12px;
  padding: 16px;
  border-radius: 16px;
  background: rgba(255,255,255,.85);
  border: 1px solid rgba(255,255,255,.35);
  box-shadow: 0 6px 18px -10px rgba(0,0,0,.18);
}
.recommendation-title{
  font-weight: 900;
  margin-bottom: 10px;
  background: linear-gradient(135deg, #f59e0b, #f97316);
  -webkit-background-clip:text;
  -webkit-text-fill-color: transparent;
  background-clip:text;
}
.actions{
  display:flex;
  gap: 10px;
  margin-top: 14px;
  flex-wrap:wrap;
}
.actions .btn{ width:auto; margin-top:0; text-transform:none; letter-spacing:0; }

.floating-particles{ position:fixed; inset:0; pointer-events:none; z-index:0; }
.particle{ position:absolute; width:4px; height:4px; background: rgba(255,255,255,.30); border-radius:50%; animation: float 8s infinite ease-in-out; }
@keyframes float{
  0%,100%{ transform:translateY(0) rotate(0deg); opacity:0; }
  10%{ opacity:1; }
  90%{ opacity:1; }
  100%{ transform:translateY(-100vh) rotate(360deg); opacity:0; }
}

@media (max-width: 900px){
  .results-grid{ grid-template-columns: 1fr; }
  .form-grid{ grid-template-columns: 1fr; }
}
@media (max-width: 520px){
  .container{ margin: 10px; padding: 14px; border-radius: 18px; }
  .header h1{ font-size: 20px; }
  .question{ font-size: 16px; }
  .results-table th, .results-table td{ padding: 10px 12px; font-size: 12px; }
  .btn{ padding: 14px 16px; }
}


/* results in one column */
.results-stack{display:flex;flex-direction:column;gap:16px;margin-bottom:18px;}
.results-stack .card{
  width:100%;
}
.results-grid{
  display:block !important;
}


/* recommendation steps formatting */
.rec-steps{margin-top:10px}
.rec-steps ol{margin:8px 0 0 18px}
.rec-q{font-weight:700;margin:6px 0 2px 0}
.rec-id{display:inline-block;margin-right:8px;padding:2px 8px;border-radius:999px;background:rgba(99,102,241,.12);color:#4f46e5;font-weight:700}
.rec-t{color:#374151}
